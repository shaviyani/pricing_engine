{% extends "pricing/manage/_base.html" %}

{% block section_title %}Management{% endblock %}
{% block page_heading %}Management{% endblock %}

{% block section_css %}
    .landing-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px; }
    .landing-card {
        display:block; background:white; border:1px solid #e5e7eb; border-radius:12px;
        padding:24px; text-decoration:none; transition:all 0.2s; position:relative;
    }
    .landing-card:hover { border-color:#93c5fd; box-shadow:0 4px 12px rgba(0,0,0,0.06); transform:translateY(-2px); }
    .landing-card-icon { font-size:28px; margin-bottom:12px; }
    .landing-card-title { font-size:16px; font-weight:600; color:#111827; margin-bottom:4px; }
    .landing-card-desc { font-size:13px; color:#6b7280; line-height:1.5; }
    .landing-card-key {
        position:absolute; top:12px; right:12px; width:24px; height:24px;
        background:#f3f4f6; border:1px solid #e5e7eb; border-radius:6px;
        display:flex; align-items:center; justify-content:center;
        font-size:12px; font-weight:700; color:#9ca3af;
    }
    .landing-card:hover .landing-card-key { background:#dbeafe; color:#2563eb; border-color:#93c5fd; }
    .landing-card-stats { display:flex; gap:16px; margin-top:12px; padding-top:12px; border-top:1px solid #f3f4f6; }
    .landing-card-stat { font-size:12px; color:#6b7280; }
    .landing-card-stat strong { color:#374151; }
{% endblock %}

{% block section_content %}
<div class="landing-grid">

    <a href="{% url 'pricing:manage_organization' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">1</span>
        <div class="landing-card-icon">üè¢</div>
        <div class="landing-card-title">Organization</div>
        <div class="landing-card-desc">Organization details, currency settings, and manage properties across the group.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat"><strong>{{ organization.name }}</strong></span>
            <span class="landing-card-stat">{{ property_count }} properties</span>
        </div>
    </a>

    <a href="{% url 'pricing:manage_property' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">2</span>
        <div class="landing-card-icon">üè®</div>
        <div class="landing-card-title">Property</div>
        <div class="landing-card-desc">Property settings, seasons, room types, tax configuration, and target occupancy.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat"><strong>{{ hotel.name }}</strong></span>
            <span class="landing-card-stat">{{ seasons|length }} seasons</span>
            <span class="landing-card-stat">{{ room_types|length }} rooms</span>
        </div>
    </a>

    <a href="{% url 'pricing:manage_pricing' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">3</span>
        <div class="landing-card-icon">üí∞</div>
        <div class="landing-card-title">Pricing</div>
        <div class="landing-card-desc">Rate plans, distribution channels, rate modifiers, and room-season sensitivity tuning.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat">{{ rate_plan_count }} rate plans</span>
            <span class="landing-card-stat">{{ channel_count }} channels</span>
            <span class="landing-card-stat">{{ modifier_count }} modifiers</span>
        </div>
    </a>

    <a href="{% url 'pricing:manage_offers' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">4</span>
        <div class="landing-card-icon">üè∑</div>
        <div class="landing-card-title">Offers & Overrides</div>
        <div class="landing-card-desc">Date-specific rate overrides and promotional offers with booking window controls.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat">{{ override_count }} active overrides</span>
        </div>
    </a>

    <a href="{% url 'pricing:manage_import' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">5</span>
        <div class="landing-card-icon">üì•</div>
        <div class="landing-card-title">Data Import</div>
        <div class="landing-card-desc">Import reservation data from PMS exports, view import history, and configure booking source mappings.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat">{{ import_count }} imports</span>
            <span class="landing-card-stat">{{ source_count }} sources</span>
        </div>
    </a>

    <a href="{% url 'pricing:manage_reports' org_code=org.code prop_code=prop_code %}" class="landing-card">
        <span class="landing-card-key">6</span>
        <div class="landing-card-icon">üìä</div>
        <div class="landing-card-title">Reports</div>
        <div class="landing-card-desc">Export pricing matrices, channel rate cards, and upcoming review analysis tools.</div>
        <div class="landing-card-stats">
            <span class="landing-card-stat">PDF export</span>
            <span class="landing-card-stat">Channel cards</span>
        </div>
    </a>

</div>

<p class="text-center text-xs text-gray-400 mt-6">Press <kbd class="px-1 py-0.5 bg-gray-100 border border-gray-200 rounded text-gray-500">1</kbd>‚Äì<kbd class="px-1 py-0.5 bg-gray-100 border border-gray-200 rounded text-gray-500">6</kbd> to jump to a section</p>
{% endblock %}
